<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="luggage, transport, flight, travel, packing, trip, airplane">
    <meta name="description" content="Wszystkie informacje o bagażu lotniczym w jednym miejscu!">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Informacje bagażowe</title>
    <link type="text/css" rel="stylesheet" href="/css/jquery-ui.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script data-ad-client="ca-pub-1538658242858314" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <link type="text/css" rel="stylesheet" href="/css/style.css">
    <style>
        .ui-autocomplete {
            max-height: 200px;
            overflow-y: scroll;
            overflow-x: hidden;
        }
    </style>
    <script>
        var mainTemp = ""
        var handTemp = ""
        var obj = {}
        var language = "pl"
        $(document).ready(function () {
            $("a").on('click', function (event) {

                // Make sure this.hash has a value before overriding default behavior
                if (this.hash !== "") {
                    // Prevent default anchor click behavior
                    event.preventDefault();

                    // Store hash
                    var hash = this.hash;

                    // Using jQuery's animate() method to add smooth page scroll
                    // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 0, function () {

                        // Add hash (#) to URL when done scrolling (default click behavior)
                        window.location.hash = hash;
                    });
                } // End if
            });
            $.ajax({
                url: "https://packyourbag.pl/getItemData",
                type: "POST",
                success: function (data) {
                    obj = JSON.parse(data)
                    console.log(obj)
                    areItemsReady = true
                    $("#search")
                        .autocomplete({
                            source: Object.keys(obj)
                        })
                        .on("focus", function () {
                            mainTemp = $("#mainCheck").attr("src")
                            handTemp = $("#handCheck").attr("src")
                            $("#mainCheck").attr("src", "https://thumbs.gfycat.com/FaintSpicyAnnashummingbird-small.gif")
                            $("#handCheck").attr("src", "https://thumbs.gfycat.com/FaintSpicyAnnashummingbird-small.gif")
                        })
                        .on("keydown", function (e) {
                            if (e.keyCode == 8 || e.keyCode == 46) {
                                mainTemp = $("#mainCheck").attr("src")
                                handTemp = $("#handCheck").attr("src")
                                $("#mainCheck").attr("src", "https://thumbs.gfycat.com/FaintSpicyAnnashummingbird-small.gif")
                                $("#handCheck").attr("src", "https://thumbs.gfycat.com/FaintSpicyAnnashummingbird-small.gif")
                            }
                        })
                        .on("blur", function () {
                            $("#mainCheck").attr("src", mainTemp)
                            $("#handCheck").attr("src", handTemp)
                        })
                },
                error: function (xhr, status, error) {
                    console.log(xhr);
                },
            });
            var textAppearing
            $(".warning").on("mouseover", function () {
                $(this).removeClass("warningBackSlideAnim")
                $(this).addClass("warningSlideAnim")
                $(this).css("background-image", "none")
                textAppearing = setTimeout(() => {
                    $(this).text("Wykaz ma charakter wyłącznie informacyjny i jego przeznaczeniem jest ułatwienie pasażerom odbycia podróży. Prosimy pamiętać, że operator kontroli dokonuje decyzji o dopuszczeniu przedmiotu na pokład i pasażer ponosi odpowiedzialność za swoje mienie.")
                }, 1000)
            })
            $(".warning").on("mouseout", function () {
                $(this).removeClass("warningSlideAnim")
                $(this).addClass("warningBackSlideAnim")
                clearInterval(textAppearing)
                $(this).empty()
                $(this).css("background-image", "url(https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/OOjs_UI_icon_info.svg/1200px-OOjs_UI_icon_info.svg.png)")

            })

        })
        var wasInSearch = false
        var searchedValue = ""
        var linkToAccepted = "/gfx/ok.png"
        var linkNotAccepted = "/gfx/x.png"
        var linkConditionally = "/gfx/warning.png"
        var areItemsReady = false
        var firstSearch = true

        function handle(e) {
            if (e.keyCode === 13) {
                e.preventDefault()
                sendEnteredPhrase()
            }
        }
        function changeToEng() {
            language = "eng"
            $.ajax({
                url: "/eng",
                type: "POST",
                success: function (data) {
                    obj = JSON.parse(data)
                    areItemsReady = true
                    console.log(obj)
                    $("#search")
                        .autocomplete({
                            source: Object.keys(obj)
                        })
                },
                error: function (xhr, status, error) {
                    console.log(xhr);
                },
            });
            $("input").attr("placeholder", "What do you want to put in your luggage?")
            $(".warning").off("mouseover")
            $(".warning").on("mouseover", function () {
                $(this).removeClass("warningBackSlideAnim")
                $(this).addClass("warningSlideAnim")
                $(this).css("background-image", "none")
                textAppearing = setTimeout(() => {
                    $(this).text("The list is for information only and is intended to assist passengers in their travel. Please note that the inspection operator decides to allow the item on board and the passenger is responsible for their property.")
                }, 1000)
            })
            $("#mainPrompt").text("Main Luggage")
            $("#handPrompt").text("Hand Luggage")
        }
        changeToPl = () => {
            $.ajax({
                url: "/getItemData",
                type: "POST",
                success: function (data) {
                    obj = JSON.parse(data)
                    areItemsReady = true
                    console.log(obj)
                    $("#search")
                        .autocomplete({
                            source: Object.keys(obj)
                        })
                },
                error: function (xhr, status, error) {
                    console.log(xhr);
                },
            });
            $("input").attr("placeholder", "Co chcesz umieścić w swoim bagażu?")
            $(".warning").off("mouseover")
            $(".warning").on("mouseover", function () {
                $(this).removeClass("warningBackSlideAnim")
                $(this).addClass("warningSlideAnim")
                $(this).css("background-image", "none")
                textAppearing = setTimeout(() => {
                    $(this).text("Wykaz ma charakter wyłącznie informacyjny i jego przeznaczeniem jest ułatwienie pasażerom odbycia podróży. Prosimy pamiętać, że operator kontroli dokonuje decyzji o dopuszczeniu przedmiotu na pokład i pasażer ponosi odpowiedzialność za swoje mienie.")
                }, 1000)
            })
            $("#mainPrompt").text("Bagaż Główny")
            $("#handPrompt").text("Bagaż Podręczny")
        }
        function sendEnteredPhrase() {
            if (areItemsReady) {
                var enteredPhrase = document.getElementById("search").value
                if (firstSearch) {
                    checkIfBanned(enteredPhrase)
                }
                else {
                    $("#main").addClass("colorChangeAnim")
                    $("#hand").addClass("colorChangeAnim")
                    setTimeout(() => {
                        checkIfBanned(enteredPhrase)
                    }, 500)
                    setTimeout(() => {
                        $("#main").removeClass("colorChangeAnim").removeClass("luggageAppearAnim")
                        $("#hand").removeClass("colorChangeAnim").removeClass("luggageAppearAnim")
                    }, 1000)
                }
            }
            else {
                alert("pliki nie gotowe")
            }
        }
        function checkIfBanned(enteredPhrase) {
            for (key in obj) {
                if (enteredPhrase.toLowerCase() == key.toLowerCase()) {
                    wasInSearch = true

                    if (obj[key].glowny) {
                        changePrompt("main", "accepted")
                    }
                    else {
                        changePrompt("main", "rejected")
                    }
                    if (obj[key].podreczny && obj[key].conditionally) {
                        changePrompt("hand", "conditionally")
                    }
                    else if (obj[key].podreczny) {
                        changePrompt("hand", "accepted")
                    }
                    else {
                        changePrompt("hand", "rejected")
                    }
                }
            }
            if (wasInSearch) {
                if (firstSearch) {
                    $(".warning").addClass('fadeOutAnim')
                    $("#navbar").addClass('topNavbar')
                    setTimeout(() => {
                        $("#luggage").css('display', 'flex')
                        $("#main").addClass("luggageAppearAnim")
                        $("#hand").addClass("luggageAppearAnim")
                        $(".warning").css("display", "none")
                    }, 1000)
                    firstSearch = false
                }
            }
            else {
                alert("Brak w bazie")
            }
            wasInSearch = false
        }
        function changePrompt(type, decision) {
            if (decision == "accepted") {
                document.getElementById(type).style.backgroundColor = "rgba(0,255,0,0.7)"
                document.getElementById(type + "Check").setAttribute("src", linkToAccepted)
                if (type == "hand") {
                    handTemp = linkToAccepted
                }
                else {
                    mainTemp = linkToAccepted
                }
                document.getElementById("handInfo").innerText = ""
            }
            else if (decision == "conditionally") {
                document.getElementById(type).style.backgroundColor = "rgba(255,255,0,0.7)"
                document.getElementById(type + "Check").setAttribute("src", linkConditionally)
                if (type == "hand") {
                    handTemp = linkConditionally
                }
                else {
                    mainTemp = linkConditionally
                }
                if (language == "eng") $("#handInfo").text("Allowed only in 100ml containers")
                else $("#handInfo").text("Tylko w pojemnikach do 100ml")
                $("#mainInfo").text("Tylko w pojemnikach do 100ml")

            }
            else {
                document.getElementById(type).style.backgroundColor = "rgba(255,0,0,0.7)"
                document.getElementById(type + "Check").setAttribute("src", linkNotAccepted)
                if (type == "hand") {
                    handTemp = linkNotAccepted
                }
                else {
                    mainTemp = linkNotAccepted
                }
                document.getElementById("handInfo").innerText = ""
            }
        }

    </script>
</head>

<body>
    <div id="mainBody">

        <div id="siteBody">
            <div class="header">
                <a href = "#siteBody" class="headerElem">Wyszukiwarka</a>
                <a href="#security-control" class="headerElem">Kontrola bezpieczeństwa
                </a>
                <a href="#unattended-luggage" class="headerElem">Bagaż bez opieki
                </a>
                <a href="#gun-transport" class="headerElem">Przewóz broni</a>
            </div>

            <div id="navbar">
                <div id="flags">
                    <img onclick="changeToPl()" src="https://www.travlang.com/factbook/flags/pl-lgflag.gif" />
                    <img onclick="changeToEng()"
                        src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Flag_of_the_United_Kingdom.svg/640px-Flag_of_the_United_Kingdom.svg.png" />
                </div>
                <input onkeypress="handle(event)" id="search" type="text"
                    placeholder="Co chcesz umieścić w swoim bagażu?" />
                <img id="enter" onclick="sendEnteredPhrase()"
                    src="https://static.thenounproject.com/png/620845-200.png" />
                <div id="socialMedias">
                    <a href="https://www.facebook.com/Packyourbag-109337594166249/?view_public_for=109337594166249"><img
                            src="https://cdn3.iconfinder.com/data/icons/capsocial-round/500/facebook-512.png" /></a>
                    <a href="https://twitter.com/PackYourBag2"><img
                            src="https://cdn1.iconfinder.com/data/icons/logotypes/32/circle-twitter-512.png" /></a>
                </div>
            </div>
            <div id="luggage">
                <div id="adLeft"></div>
                <div id="main">
                    <h1 id="mainPrompt">Bagaż Główny / Rejestrowany</h1>
                    <img id="mainCheck" src="" />
                    <p id="mainInfo"></p>
                </div>
                <div id="adMid"></div>
                <div id="hand">
                    <h1 id="handPrompt">Bagaż Podręczny / Kabinowy</h1>
                    <img id="handCheck" src="" />
                    <p id="handInfo">Tylko w pojemnikach, do pojemności 100 ml</p>
                </div>
                <div id="adRight"></div>
            </div>
            <div class="holder"></div>
        </div>
        <div id="articleSection">
            <div id="security-control" class="articleBody">
                <h3 class="articleHeader">Kontrola bezpieczeństwa</h3>
                <div class="articleContent">
                    <div class="articleText">Bagaż podlega ograniczeniom, zarówno jeśli chodzi o wagę, rozmiar, jak i
                        zawartość. Przewoźnik
                        ma prawo do ustalenia własnych ograniczeń dotyczących np. liczby lub wielkości przewożonego
                        bagażu.
                        Nie wszystkie przedmioty mogą być transportowane
                        drogą lotniczą. Niektóre z nich należy przewozić tylko
                        w bagażu rejestrowanym, gdyż nie można ich wnieść
                        na pokład samolotu w bagażu podręcznym. Lista
                        przedmiotów dozwolonych oraz przedmiotów zabronionych do transportu drogą lotniczą, znajduje się
                        w naszej wyszukiwarce.
                        W trakcie kontroli bezpieczeństwa bagażu podręcznego, przedmioty zabronione są usuwane do
                        specjalnych pojemników. Jeśli zachodzą wątpliwości czy dany
                        przedmiot możemy zabrać ze sobą, lepiej pozostawić
                        go w domu lub nadać w bagażu rejestrowanym.
                        Kontroli bezpieczeństwa na lotnisku poddawani są
                        wszyscy pasażerowie w celu zapewnienia odpowiedniego poziomu ochrony i bezpieczeństwa w
                        transporcie lotniczym. Polega ona na niedopuszczeniu
                        do wniesienia na pokład samolotu przedmiotów
                        niebezpiecznych, mogących stanowić zagrożenie
                        w ruchu lotniczym.
                        Pasażer jest dopuszczany do kontroli bezpieczeństwa po okazaniu karty pokładowej, czyli tzw.
                        boarding`u, a czasami również, w zależności od wymogów firm dokonujących tej kontroli, dokumentu
                        tożsamości: dowodu osobistego lub paszportu. </div>
                    <img class="articleImage" src="https://scontent-frt3-2.xx.fbcdn.net/v/t1.15752-9/118345933_1748301778641094_1739673728170089226_n.png?_nc_cat=103&_nc_sid=b96e70&_nc_ohc=jim_g21LcNYAX_7i89u&_nc_ht=scontent-frt3-2.xx&oh=ce5466650a67f4297ddf35c6d7ee928e&oe=5F64394A" />
                </div>
            </div>
            <div id = "unattended-luggage" class="articleBody">
                <h3 class="articleHeader">Bagaż bez opieki</h3>
                <div class="articleContent">
                    <img class="articleImage" src="https://scontent-frt3-1.xx.fbcdn.net/v/t1.15752-9/118152798_797758014299275_3708519213475684069_n.png?_nc_cat=109&_nc_sid=b96e70&_nc_ohc=ujmNjWmrbIIAX9TyC18&_nc_ht=scontent-frt3-1.xx&oh=9d7d2a3041fe440b2149418a80f7f0d7&oe=5F6318BA" />
                    <div class="articleText">Należy pamiętać, aby nigdy nie pozostawiać
                        bagażu bez opieki. Każdy bagaż bez widocznego nadzoru, traktowany jest przez służby lotniskowe
                        jako potencjalne zagrożenie, co wiąże
                        się ze wszczęciem odpowiednich procedur
                        bezpieczeństwa, takich jak ewakuacja portu
                        i konieczność rozpoznania bagażu przez specjalistów pirotechników. Procedury te są czasochłonne
                        i mogą mieć wpływ nawet na opóźnienia lotów.
                        Nie należy brać od nieznajomych osób
                        pakunków i bagażu o nieznanej zawartości.
                        Należy odmawiać prośbom o „przewiezienie
                        czegoś”. W przypadku spotkania się z podejrzaną propozycją, należy natychmiast powiadomić służby
                        lotniskowe.
                        W przypadku zauważenia bagażu lub innego
                        przedmiotu/pakunku bez opieki natychmiast
                        powiadomić właściwe służby odpowiedzialne
                        za zapewnienie bezpieczeństwa i porządku
                        publicznego na lotnisku.
                        Pozostawienie bagażu bez opieki jest karane mandatem karnym do 500 zł.</div>
                </div>
            </div>
            <div id = "gun-transport" class="articleBody">
                <h3 class="articleHeader">Przewóz broni</h3>
                <div class="articleContent">
                    <div class="articleText">
                        Osoba zamierzająca przewieźć broń palną, broń gazową lub amunicję jest obowiązana o tym fakcie
                        poinformować przedstawiciela przewoźnika na lotnisku wylotu w celu
                        zadeklarowania tego faktu. Pasażer przewożący broń palną i/lub amunicję poproszony jest o
                        przejście do specjalnego pomieszczenia, celem sprawdzenia broni oraz
                        posiadanych dokumentów (pozwolenie na broń, a w ruchu międzynarodowym – również zgodę na jej
                        wywóz wydaną przez organ Policji lub zaświadczenie wydane przez Konsula
                        RP oraz „Europejską Kartę Broni”).
                        Należy zaznaczyć, że broń przewożona drogą lotniczą powinna być rozładowana i zabezpieczona, a
                        amunicja zapakowana w sposób uniemożliwiający uderzenie w spłonkę naboju.
                        Broń palną, broń gazową lub amunicję umieszcza się w bagażu rejestrowanym lub nadaje się jako
                        bagaż rejestrowany, który jest transportowany na pokład statku powietrznego
                        pod stałym nadzorem Straży Granicznej.
                    </div>
                    <img class="articleImage" src="https://scontent-frx5-1.xx.fbcdn.net/v/t1.15752-9/117951302_299043857853010_8720307649748016667_n.png?_nc_cat=111&_nc_sid=b96e70&_nc_ohc=OggrzHviAMkAX8Z-yuv&_nc_ht=scontent-frx5-1.xx&oh=b80fbeff6f473e5a99eb15c62e89ee79&oe=5F6330A6" />
                </div>
            </div>
        </div>
    </div>
</body>

</html>